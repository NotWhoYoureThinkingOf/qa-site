let e=[];document.addEventListener("DOMContentLoaded",()=>{fetch("http://localhost:3000/api/products").then(e=>{if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);return e.text()}).then(e=>{try{let n=JSON.parse(e);!function(e){if(!Array.isArray(e)){console.error("Expected an array but got:",e);return}let n=document.getElementById("clothing-items");n.innerHTML="",e.forEach(e=>{let r=document.createElement("div");r.className="clothing-item",r.innerHTML=`
            <img src="${e.image_url}" alt="${e.name}" style="width: 50px; height: 50px">
            <h4>${e.name}</h4>
            <p>Price: $${e.price.toFixed(2)}</p>
        `,r.addEventListener("click",()=>{t(e)}),n.appendChild(r)})}(n)}catch(e){console.error("Error parsing JSON:",e)}}).catch(e=>{console.error("Error fetching products:",e)})});const t=t=>{let r=e.find(e=>e.id===t.id);r?r.quantity+=1:e.push(t),n()},n=()=>{let t=document.getElementById("cart-items");if(t.innerHTML="",0===e.length){t.textContent="Your cart is empty";return}e.forEach(e=>{let n=document.createElement("div");n.className="cart-item",n.textContent=`${e.name} - ${e.quantity} x $${e.price}`;let i=document.createElement("button");i.className="removeBtn",i.textContent="Remove",i.onclick=()=>r(e.id),n.appendChild(i),t.appendChild(n)});let n=e.reduce((e,t)=>e+t.price*t.quantity,0),i=document.createElement("div");i.className="cart-total",i.textContent=`Total: $${n.toFixed(2)}`,t.appendChild(i)},r=t=>{let r=e.find(e=>e.id==t);if(r){if(r.quantity>1)r.quantity-=1;else{let n=e.findIndex(e=>e.id==t);n>-1&&e.splice(n,1)}n()}};
//# sourceMappingURL=index.c979484d.js.map
